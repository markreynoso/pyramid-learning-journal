{% extends "layout.jinja2" %}
    <!-- Page Header -->
{% block image %}
    <header class="masthead" style="background-image: url('../static/img/home-bg.jpg')">
{% endblock %}
{% block title %}
    <h1>Mark's Thoughtful Spot</h1>
    <span class="subheading">Thoughts about things I think</span>
{% endblock %}
   
{% block content %}
    <!-- Main Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          {% for blog in blogs %}
          <div class="post-preview">
            <a href="{{ request.route_url('detail', id=blog.id) }}">
              <h2 class="post-title">{{ blog.title }}</h2>
            </a>
            <p class="post-meta">{{ blog.creation_date }}</p>
          </div>
          <hr>
          {% endfor %}
          <!-- Pager -->
          {% if not request.authenticated_userid %}

          <div class="clearfix">
            <a class="btn btn-secondary float-right" href="/journal/new-entry">New Entry &rarr;</a>
          </div>
          {% endif %}

        </div>
      </div>
    </div>

{% if request.authenticated_userid %}
            <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <p>Alright, self, create a awesome blog post here!</p>
          <form method='POST' name="sentMessage" id="contactForm" novalidate>
            <input type="hidden" name="csrf_token" value="{{ request.session.get_csrf_token() }}" />
            <div class="control-group">
              <div class="form-group floating-label-form-group controls">
                <label>Title</label>
                <input type="text" class="form-control" placeholder="Title" id="title" name="title" required data-validation-required-message="Please enter your name.">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="control-group">
              <div class="form-group col-xs-12 floating-label-form-group controls">
                <label>Date</label>
                <input type="tel" class="form-control" placeholder="I'll take care of it, move on." id="creation_date" name="creation_date" required data-validation-required-message="Please enter your phone number." value="{{ creation_date }}" readonly>{{ creation_date }}
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="control-group">
              <div class="form-group floating-label-form-group controls">
                <label>Body</label>
                <textarea rows="5" class="form-control" placeholder="Write your heart out, self." id="body" name="body" required data-validation-required-message="Please enter a message."></textarea>
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <br>
            <div id="success"></div>
            <div class="form-group">
              <button type="submit" class="btn btn-secondary" id="sendMessageButton">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <hr>
{% endif %}

    <hr>
{% endblock %}